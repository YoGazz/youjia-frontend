# 🚀 TestPro 快速参考卡片

## 📋 常用命令

### 项目启动
```bash
# 同时启动前端和后端
npm run dev:full

# 分别启动
npm run dev      # 前端 (3000端口)
npm run mock     # 后端 (8081端口)

# 构建生产版本
npm run build

# 代码检查
npm run lint
```

### Git 操作
```bash
git status              # 查看状态
git add .               # 添加所有文件
git commit -m "消息"    # 提交更改
git push                # 推送到远程
git pull                # 拉取最新代码
```

## 📁 重要文件位置

| 文件类型 | 位置 | 说明 |
|---------|------|------|
| 页面组件 | `src/views/` | 每个页面一个 .vue 文件 |
| 公共组件 | `src/components/` | 可复用的组件 |
| 路由配置 | `src/router/index.ts` | 页面跳转规则 |
| API 接口 | `src/api/index.ts` | 后端接口调用 |
| 状态管理 | `src/stores/` | 全局数据存储 |
| 样式文件 | `src/assets/` | CSS 样式 |
| 类型定义 | `src/types/` | TypeScript 类型 |

## 🎯 添加新功能步骤

1. **创建页面** → `src/views/NewPage.vue`
2. **添加路由** → `src/router/index.ts`
3. **添加菜单** → `src/components/MainLayout.vue`
4. **定义API** → `src/api/index.ts`
5. **添加类型** → `src/types/api.ts`

## 🧩 Vue 组件结构

```vue
<template>
  <!-- HTML 模板 -->
  <div class="container">
    <h1>{{ title }}</h1>
    <el-button @click="handleClick">点击</el-button>
  </div>
</template>

<script setup lang="ts">
// JavaScript 逻辑
import { ref } from 'vue'

const title = ref('页面标题')

const handleClick = () => {
  console.log('按钮被点击')
}
</script>

<style scoped>
/* CSS 样式 */
.container {
  padding: 20px;
}
</style>
```

## 🔧 常用 Vue API

### 响应式数据
```typescript
import { ref, reactive, computed } from 'vue'

// 基本类型
const count = ref(0)
const name = ref('张三')

// 对象类型
const user = reactive({
  name: '张三',
  age: 25
})

// 计算属性
const fullName = computed(() => {
  return `${user.name} (${user.age}岁)`
})
```

### 生命周期
```typescript
import { onMounted, onUnmounted } from 'vue'

onMounted(() => {
  console.log('组件已挂载')
  // 获取数据、初始化等
})

onUnmounted(() => {
  console.log('组件即将卸载')
  // 清理工作
})
```

### 监听器
```typescript
import { watch, watchEffect } from 'vue'

// 监听单个值
watch(count, (newVal, oldVal) => {
  console.log(`count 从 ${oldVal} 变为 ${newVal}`)
})

// 监听多个值
watch([count, name], ([newCount, newName]) => {
  console.log('count 或 name 发生了变化')
})

// 立即执行的监听器
watchEffect(() => {
  console.log(`当前 count: ${count.value}`)
})
```

## 📡 API 调用模板

```typescript
// 定义 API
export const getUsersApi = () => {
  return request.get('/users')
}

export const addUserApi = (data: UserRequest) => {
  return request.post('/users', data)
}

// 在组件中使用
const users = ref([])
const loading = ref(false)

const fetchUsers = async () => {
  try {
    loading.value = true
    const response = await getUsersApi()
    users.value = response.data
  } catch (error) {
    console.error('获取用户失败:', error)
    ElMessage.error('获取用户失败')
  } finally {
    loading.value = false
  }
}
```

## 🎨 Element Plus 常用组件

### 按钮
```vue
<el-button type="primary">主要按钮</el-button>
<el-button type="success">成功按钮</el-button>
<el-button type="warning">警告按钮</el-button>
<el-button type="danger">危险按钮</el-button>
<el-button :loading="loading">加载中</el-button>
```

### 表单
```vue
<el-form :model="form" :rules="rules" ref="formRef">
  <el-form-item label="用户名" prop="username">
    <el-input v-model="form.username" />
  </el-form-item>
  <el-form-item label="密码" prop="password">
    <el-input v-model="form.password" type="password" />
  </el-form-item>
  <el-form-item>
    <el-button type="primary" @click="handleSubmit">提交</el-button>
  </el-form-item>
</el-form>
```

### 表格
```vue
<el-table :data="tableData" :loading="loading">
  <el-table-column prop="name" label="姓名" />
  <el-table-column prop="email" label="邮箱" />
  <el-table-column label="操作">
    <template #default="{ row }">
      <el-button size="small" @click="edit(row)">编辑</el-button>
      <el-button size="small" type="danger" @click="delete(row)">删除</el-button>
    </template>
  </el-table-column>
</el-table>
```

### 对话框
```vue
<el-dialog v-model="dialogVisible" title="标题">
  <p>对话框内容</p>
  <template #footer>
    <el-button @click="dialogVisible = false">取消</el-button>
    <el-button type="primary" @click="confirm">确定</el-button>
  </template>
</el-dialog>
```

### 消息提示
```typescript
import { ElMessage, ElMessageBox } from 'element-plus'

// 消息提示
ElMessage.success('操作成功')
ElMessage.error('操作失败')
ElMessage.warning('警告信息')
ElMessage.info('提示信息')

// 确认对话框
ElMessageBox.confirm('确定要删除吗？', '提示', {
  confirmButtonText: '确定',
  cancelButtonText: '取消',
  type: 'warning'
}).then(() => {
  // 确定操作
}).catch(() => {
  // 取消操作
})
```

## 🛠️ 调试技巧

### Console 调试
```typescript
console.log('普通信息:', data)
console.error('错误信息:', error)
console.warn('警告信息:', warning)
console.table(arrayData)  // 表格形式显示数组
console.group('分组开始')
console.log('分组内容')
console.groupEnd()
```

### Vue DevTools
1. 安装浏览器插件
2. F12 打开开发者工具
3. 切换到 Vue 标签页
4. 查看组件树和状态

### 断点调试
```typescript
// 在代码中设置断点
debugger

// 或在浏览器开发者工具中设置断点
```

## ⚠️ 常见错误

### 1. 组件未注册
```
[Vue warn]: Failed to resolve component: MyComponent
```
**解决**: 检查组件导入和注册

### 2. 响应式数据问题
```typescript
// ❌ 错误：直接赋值
const data = { name: 'test' }
data.name = 'new name'  // 不会触发更新

// ✅ 正确：使用 reactive
const data = reactive({ name: 'test' })
data.name = 'new name'  // 会触发更新
```

### 3. API 调用错误
```
TypeError: Cannot read property 'data' of undefined
```
**解决**: 检查 API 返回格式和错误处理

### 4. 路由跳转问题
```typescript
// ❌ 错误：直接修改 URL
window.location.href = '/users'

// ✅ 正确：使用路由
import { useRouter } from 'vue-router'
const router = useRouter()
router.push('/users')
```

## 📚 学习资源

### 官方文档
- [Vue 3](https://cn.vuejs.org/)
- [Element Plus](https://element-plus.org/zh-CN/)
- [TypeScript](https://www.typescriptlang.org/zh/)
- [Vite](https://cn.vitejs.dev/)

### 推荐教程
- [Vue 3 入门教程](https://www.runoob.com/vue3/vue3-tutorial.html)
- [JavaScript 教程](https://www.runoob.com/js/js-tutorial.html)
- [CSS 教程](https://www.runoob.com/css/css-tutorial.html)

### VSCode 插件
- Vue Language Features (Volar)
- TypeScript Vue Plugin (Volar)
- ESLint
- Prettier
- Auto Rename Tag
- Bracket Pair Colorizer

## 🎯 学习计划

### 第1周：熟悉环境
- [ ] 安装开发环境
- [ ] 熟悉项目结构
- [ ] 学会启动项目
- [ ] 修改简单内容

### 第2周：基础组件
- [ ] 学习 Vue 基础语法
- [ ] 掌握 Element Plus 组件
- [ ] 理解响应式数据
- [ ] 练习表单处理

### 第3-4周：功能开发
- [ ] 学习路由使用
- [ ] 掌握 API 调用
- [ ] 理解状态管理
- [ ] 独立添加页面

### 第5-8周：深入学习
- [ ] 学习 TypeScript
- [ ] 掌握组件通信
- [ ] 学习错误处理
- [ ] 性能优化基础

---

**💡 提示：将此卡片保存为书签，随时查阅！**
